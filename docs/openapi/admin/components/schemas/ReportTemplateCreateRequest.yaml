type: object
description: Запрос для создания нового шаблона отчета.
properties:
  name:
    type: string
    maxLength: 255
    description: Название шаблона отчета
    example: "Мой шаблон отчета по материалам"
  report_type:
    type: string
    enum: ["material_usage", "work_completion", "foreman_activity", "project_status_summary"]
    description: |
      Тип отчета для которого создается шаблон:
      - material_usage: Отчет по расходу материалов
      - work_completion: Отчет по выполненным работам  
      - foreman_activity: Отчет по активности прорабов
      - project_status_summary: Сводный отчет по статусам проектов
    example: "material_usage"
  columns_config:
    type: array
    minItems: 1
    description: Конфигурация колонок для отчета (массив объектов с настройками колонок)
    items:
      type: object
      properties:
        header:
          type: string
          maxLength: 255
          description: Заголовок колонки в отчете
          example: "Название материала"
        data_key:
          type: string
          maxLength: 255
          description: Ключ данных для извлечения значения из данных отчета
          example: "material.name"
        order:
          type: integer
          minimum: 1
          description: Порядок отображения колонки (начиная с 1)
          example: 1
        format_options:
          type: object
          nullable: true
          description: Дополнительные параметры форматирования колонки
          example: {"number_format": "decimal", "currency": "RUB"}
      required:
        - header
        - data_key
        - order
    example:
      - header: "Название материала"
        data_key: "material.name"
        order: 1
        format_options: null
      - header: "Количество"
        data_key: "quantity"
        order: 2
        format_options: {"number_format": "decimal"}
      - header: "Сумма"
        data_key: "total_amount"
        order: 3
        format_options: {"number_format": "currency", "currency": "RUB"}
  is_default:
    type: boolean
    description: Установить ли данный шаблон как шаблон по умолчанию для типа отчета
    example: false
required:
  - name
  - report_type
  - columns_config