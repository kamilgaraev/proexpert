type: object
properties:
  id:
    type: integer
    description: Уникальный идентификатор записи времени
    example: 123
  organization_id:
    type: integer
    description: ID организации
    example: 5
  user_id:
    type: integer
    description: ID пользователя
    example: 15
  project_id:
    type: integer
    description: ID проекта
    example: 8
  work_type_id:
    type: integer
    nullable: true
    description: ID типа работы
    example: 3
  task_id:
    type: integer
    nullable: true
    description: ID задачи из календарного плана
    example: 45
  work_date:
    type: string
    format: date
    description: Дата выполнения работы
    example: "2024-01-15"
  start_time:
    type: string
    format: time
    description: Время начала работы (формат HH:MM:SS)
    example: "09:00:00"
  end_time:
    type: string
    format: time
    nullable: true
    description: Время окончания работы (формат HH:MM:SS)
    example: "17:30:00"
  hours_worked:
    type: number
    format: float
    nullable: true
    description: Количество отработанных часов (автоматически рассчитывается)
    example: 8.5
  break_time:
    type: number
    format: float
    nullable: true
    description: Время перерыва в часах
    example: 1.0
  title:
    type: string
    maxLength: 255
    description: Название/краткое описание выполненной работы
    example: "Разработка модуля авторизации"
  description:
    type: string
    maxLength: 1000
    nullable: true
    description: Подробное описание выполненной работы
    example: "Реализованы методы входа через email и телефон, добавлена двухфакторная аутентификация"
  status:
    type: string
    enum: ["draft", "submitted", "approved", "rejected"]
    description: |
      Статус записи времени:
      - `draft` - черновик
      - `submitted` - отправлено на утверждение
      - `approved` - утверждено
      - `rejected` - отклонено
    example: "approved"
  approved_by_user_id:
    type: integer
    nullable: true
    description: ID пользователя, который утвердил запись
    example: 12
  approved_at:
    type: string
    format: date-time
    nullable: true
    description: Дата и время утверждения
    example: "2024-01-16T10:30:00Z"
  rejection_reason:
    type: string
    maxLength: 500
    nullable: true
    description: Причина отклонения записи
    example: "Неточное описание выполненной работы"
  is_billable:
    type: boolean
    description: Является ли время оплачиваемым
    example: true
  hourly_rate:
    type: number
    format: float
    nullable: true
    description: Почасовая ставка в рублях
    example: 1500.00
  location:
    type: string
    maxLength: 255
    nullable: true
    description: Место выполнения работы
    example: "Офис, переговорная комната 2"
  custom_fields:
    type: object
    nullable: true
    description: Дополнительные пользовательские поля
    additionalProperties: true
    example:
      equipment_used: "Laptop Dell, Монитор Samsung"
      weather_conditions: "sunny"
  notes:
    type: string
    maxLength: 1000
    nullable: true
    description: Дополнительные заметки
    example: "Потребовалось больше времени из-за изменений в требованиях"
  created_at:
    type: string
    format: date-time
    description: Дата и время создания записи
    example: "2024-01-15T09:00:00Z"
  updated_at:
    type: string
    format: date-time
    description: Дата и время последнего обновления
    example: "2024-01-15T18:00:00Z"
  
  # Вычисляемые поля
  total_cost:
    type: number
    format: float
    nullable: true
    description: Общая стоимость (hours_worked * hourly_rate)
    example: 12750.00
  is_active_timer:
    type: boolean
    description: Активен ли таймер (есть start_time, но нет end_time и статус draft)
    example: false
  duration_formatted:
    type: string
    nullable: true
    description: Отформатированная продолжительность
    example: "8ч 30м"
  
  # Связанные модели (загружаются при необходимости)
  user:
    type: object
    nullable: true
    description: Данные пользователя
    properties:
      id:
        type: integer
        example: 15
      name:
        type: string
        example: "Иванов Иван Иванович"
      email:
        type: string
        format: email
        example: "ivan.ivanov@example.com"
  
  project:
    type: object
    nullable: true
    description: Данные проекта
    properties:
      id:
        type: integer
        example: 8
      name:
        type: string
        example: "Проект Alpha"
      code:
        type: string
        nullable: true
        example: "ALPHA-2024"
  
  work_type:
    type: object
    nullable: true
    description: Данные типа работы
    properties:
      id:
        type: integer
        example: 3
      name:
        type: string
        example: "Разработка"
      category:
        type: string
        nullable: true
        example: "Backend"
  
  task:
    type: object
    nullable: true
    description: Данные задачи из календарного плана
    properties:
      id:
        type: integer
        example: 45
      name:
        type: string
        example: "Реализация авторизации"
      description:
        type: string
        nullable: true
        example: "Модуль авторизации с поддержкой разных провайдеров"
  
  approved_by:
    type: object
    nullable: true
    description: Данные пользователя, утвердившего запись
    properties:
      id:
        type: integer
        example: 12
      name:
        type: string
        example: "Петров Петр Петрович"
      email:
        type: string
        format: email
        example: "petr.petrov@example.com"

required:
  - id
  - organization_id
  - user_id
  - project_id
  - work_date
  - start_time
  - title
  - status
  - is_billable
  - created_at
  - updated_at
