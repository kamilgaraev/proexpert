{
  "openapi": "3.1.0",
  "info": {
    "title": "ProHelper Mobile API",
    "description": "Спецификация API мобильного приложения. Используйте для описания эндпоинтов `/api/v1/mobile`.\n",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "/api/v1/mobile",
      "description": "Production server"
    },
    {
      "url": "http://localhost:8000/api/v1/mobile",
      "description": "Local development"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Авторизация пользователя",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешная авторизация",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "Auth"
        ],
        "summary": "Данные текущего пользователя",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Профиль",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserProfile"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Обновить JWT",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Новый токен",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Выход пользователя",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Выход выполнен",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/projects": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Список проектов, назначенных прорабу",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Проекты",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ProjectDTO"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/projects/{projectId}/material-balances": {
      "parameters": [
        {
          "name": "projectId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer"
          }
        }
      ],
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Балансы материалов по проекту",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Балансы",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{projectId}/contracts": {
      "get": {
        "tags": [
          "Projects",
          "Contracts"
        ],
        "summary": "Получить контракты проекта",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "projectId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список контрактов проекта",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContractMini"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/work-types": {
      "get": {
        "tags": [
          "Catalogs"
        ],
        "summary": "Справочник типов работ",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Типы работ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/materials": {
      "get": {
        "tags": [
          "Catalogs"
        ],
        "summary": "Справочник материалов",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Материалы",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/suppliers": {
      "get": {
        "tags": [
          "Catalogs"
        ],
        "summary": "Справочник поставщиков",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Поставщики",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/logs/material-receipts": {
      "post": {
        "tags": [
          "Logs"
        ],
        "summary": "Логировать поступление материалов",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoreMaterialReceiptRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Записано",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/logs/material-write-offs": {
      "post": {
        "tags": [
          "Logs"
        ],
        "summary": "Логировать списание материалов",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoreMaterialWriteOffRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Записано",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/completed-works": {
      "get": {
        "tags": [
          "CompletedWorks"
        ],
        "summary": "Получить список выполненных работ (моб.)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Список выполненных работ",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CompletedWork"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "CompletedWorks"
        ],
        "summary": "Создать запись о выполненной работе (моб.)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompletedWorkCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Создано",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompletedWorkResponse"
                }
              }
            }
          },
          "422": {
            "description": "Ошибка валидации"
          }
        }
      }
    },
    "/completed-works/{completed_work}": {
      "get": {
        "tags": [
          "CompletedWorks"
        ],
        "summary": "Получить выполненную работу (моб.)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "completed_work",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Запись о выполненной работе",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompletedWorkResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "CompletedWorks"
        ],
        "summary": "Обновить выполненную работу (моб.)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "completed_work",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompletedWorkCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Обновлено",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompletedWorkResponse"
                }
              }
            }
          },
          "422": {
            "description": "Ошибка валидации"
          }
        }
      }
    },
    "/completed-works/{completed_work}/sync-materials": {
      "post": {
        "tags": [
          "CompletedWorks"
        ],
        "summary": "Синхронизировать материалы выполненной работы (моб.)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "completed_work",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompletedWorkSyncMaterialsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Материалы синхронизированы",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompletedWorkResponse"
                }
              }
            }
          },
          "422": {
            "description": "Ошибка валидации"
          }
        }
      }
    },
    "/completed-works/work-type-material-defaults": {
      "get": {
        "tags": [
          "CompletedWorks"
        ],
        "summary": "Получить материалы по умолчанию для типа работы (моб.)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "work_type_id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID типа работы"
          }
        ],
        "responses": {
          "200": {
            "description": "Материалы по умолчанию",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/WorkTypeMaterialDefault"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Ошибка валидации"
          }
        }
      }
    },
    "/site-requests": {
      "get": {
        "tags": [
          "SiteRequests"
        ],
        "summary": "Список заявок",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Заявки",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SiteRequestDTO"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "SiteRequests"
        ],
        "summary": "Создать заявку",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteRequestDTO"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Создано",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/site-requests/{site_request}": {
      "parameters": [
        {
          "name": "site_request",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer"
          }
        }
      ],
      "get": {
        "tags": [
          "SiteRequests"
        ],
        "summary": "Получить заявку",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Заявка",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/SiteRequestDTO"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "SiteRequests"
        ],
        "summary": "Обновить заявку",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Обновлено",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "SiteRequests"
        ],
        "summary": "Удалить заявку",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "Удалено"
          }
        }
      }
    },
    "/site-requests/{site_request}/attachments/{file}": {
      "parameters": [
        {
          "name": "site_request",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer"
          }
        },
        {
          "name": "file",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer"
          }
        }
      ],
      "delete": {
        "tags": [
          "SiteRequests"
        ],
        "summary": "Удалить вложение из заявки",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "Удалено"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "LoginRequest": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          },
          "password": {
            "type": "string",
            "format": "password"
          }
        }
      },
      "ApiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Флаг успешности запроса"
          },
          "message": {
            "type": "string",
            "description": "Сообщение для пользователя"
          },
          "data": {
            "type": "object",
            "description": "Полезная нагрузка (может быть объектом любого типа или null)",
            "nullable": true
          }
        }
      },
      "UserSimple": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          }
        }
      },
      "LoginResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiResponse"
          }
        ],
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string"
              },
              "user": {
                "$ref": "#/components/schemas/UserSimple"
              }
            }
          }
        },
        "example": {
          "success": true,
          "message": "Вход выполнен успешно",
          "data": {
            "token": "jwt_token_here",
            "user": {
              "id": 1,
              "name": "Admin",
              "email": "admin@example.com"
            }
          }
        }
      },
      "UserProfile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "position": {
            "type": "string",
            "nullable": true
          },
          "avatar_url": {
            "type": "string",
            "format": "uri",
            "nullable": true
          },
          "is_active": {
            "type": "boolean"
          },
          "user_type": {
            "type": "string",
            "description": "Тип пользователя"
          },
          "current_organization_id": {
            "type": "integer",
            "nullable": true
          },
          "last_login_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ProjectDTO": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "customer": {
            "type": "string",
            "nullable": true
          },
          "designer": {
            "type": "string",
            "nullable": true
          },
          "start_date": {
            "type": "string",
            "nullable": true
          },
          "end_date": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string"
          },
          "is_archived": {
            "type": "boolean",
            "nullable": true
          },
          "additional_info": {
            "type": "array",
            "nullable": true
          },
          "external_code": {
            "type": "string",
            "nullable": true
          },
          "cost_category_id": {
            "type": "integer",
            "nullable": true
          },
          "accounting_data": {
            "type": "array",
            "nullable": true
          },
          "use_in_accounting_reports": {
            "type": "boolean",
            "nullable": true
          }
        },
        "required": [
          "name",
          "status"
        ]
      },
      "ContractMini": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "number": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "total_amount": {
            "type": "number",
            "format": "float"
          },
          "status": {
            "type": "string"
          },
          "status_label": {
            "type": "string"
          }
        }
      },
      "StoreMaterialReceiptRequest": {
        "type": "object",
        "properties": {
          "project_id": {
            "type": "integer"
          },
          "material_id": {
            "type": "integer"
          },
          "supplier_id": {
            "type": "integer"
          },
          "quantity": {
            "type": "number",
            "minimum": 0.001
          },
          "usage_date": {
            "type": "string",
            "format": "date"
          },
          "invoice_number": {
            "type": "string",
            "maxLength": 100,
            "nullable": true
          },
          "invoice_date": {
            "type": "string",
            "format": "date",
            "nullable": true
          },
          "photo": {
            "type": "string",
            "format": "binary",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "maxLength": 1000,
            "nullable": true
          }
        },
        "required": [
          "project_id",
          "material_id",
          "supplier_id",
          "quantity",
          "usage_date"
        ]
      },
      "StoreMaterialWriteOffRequest": {
        "type": "object",
        "properties": {
          "project_id": {
            "type": "integer"
          },
          "material_id": {
            "type": "integer"
          },
          "quantity": {
            "type": "number",
            "minimum": 0.001
          },
          "usage_date": {
            "type": "string",
            "format": "date"
          },
          "work_type_id": {
            "type": "integer",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "maxLength": 1000,
            "nullable": true
          }
        },
        "required": [
          "project_id",
          "material_id",
          "quantity",
          "usage_date"
        ]
      },
      "Project": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "organization_id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "customer": {
            "type": "string",
            "nullable": true
          },
          "designer": {
            "type": "string",
            "nullable": true
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "nullable": true
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "nullable": true
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "completed",
              "paused",
              "cancelled"
            ]
          },
          "is_archived": {
            "type": "boolean"
          },
          "additional_info": {
            "type": "object",
            "nullable": true
          },
          "external_code": {
            "type": "string",
            "nullable": true
          },
          "cost_category_id": {
            "type": "integer",
            "nullable": true
          },
          "accounting_data": {
            "type": "object",
            "nullable": true
          },
          "use_in_accounting_reports": {
            "type": "boolean"
          },
          "budget_amount": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "site_area_m2": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "contract_number": {
            "type": "string",
            "maxLength": 100,
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CompletedWorkMaterial": {
        "type": "object",
        "properties": {
          "material_id": {
            "type": "integer"
          },
          "material_name": {
            "type": "string"
          },
          "measurement_unit": {
            "type": "string",
            "nullable": true
          },
          "quantity": {
            "type": "number",
            "format": "float"
          },
          "unit_price": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "total_amount": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "CompletedWork": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "organization_id": {
            "type": "integer"
          },
          "project": {
            "$ref": "#/components/schemas/Project"
          },
          "contract": {
            "type": "object",
            "nullable": true,
            "properties": {
              "id": {
                "type": "integer"
              },
              "number": {
                "type": "string"
              },
              "date": {
                "type": "string",
                "format": "date"
              },
              "total_amount": {
                "type": "number",
                "format": "float"
              },
              "status": {
                "type": "string"
              },
              "status_label": {
                "type": "string"
              }
            }
          },
          "work_type": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "category": {
                "type": "string",
                "nullable": true
              },
              "isActive": {
                "type": "boolean"
              },
              "measurementUnit": {
                "type": "object",
                "nullable": true,
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "name": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "user": {
            "$ref": "#/components/schemas/UserSimple"
          },
          "quantity": {
            "type": "number",
            "format": "float"
          },
          "price": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "total_amount": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "completion_date": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string"
          },
          "additional_info": {
            "type": "object",
            "nullable": true
          },
          "materials": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompletedWorkMaterial"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CompletedWorkCreateRequest": {
        "type": "object",
        "required": [
          "project_id",
          "work_type_id",
          "user_id",
          "quantity",
          "completion_date",
          "status"
        ],
        "properties": {
          "project_id": {
            "type": "integer"
          },
          "contract_id": {
            "type": "integer",
            "nullable": true
          },
          "work_type_id": {
            "type": "integer"
          },
          "user_id": {
            "type": "integer"
          },
          "quantity": {
            "type": "number",
            "format": "float",
            "minimum": 0.001
          },
          "price": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "nullable": true
          },
          "total_amount": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "nullable": true
          },
          "completion_date": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string",
            "maxLength": 65535,
            "nullable": true
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "confirmed",
              "cancelled"
            ]
          },
          "additional_info": {
            "type": "object",
            "nullable": true
          },
          "materials": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompletedWorkMaterial"
            },
            "nullable": true
          }
        }
      },
      "CompletedWorkResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ApiResponse"
          },
          {
            "type": "object",
            "properties": {
              "data": {
                "$ref": "#/components/schemas/CompletedWork"
              }
            }
          }
        ]
      },
      "CompletedWorkSyncMaterialsRequest": {
        "type": "object",
        "required": [
          "materials"
        ],
        "properties": {
          "materials": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompletedWorkMaterial"
            }
          }
        }
      },
      "WorkTypeMaterialDefault": {
        "type": "object",
        "properties": {
          "material_id": {
            "type": "integer"
          },
          "material_name": {
            "type": "string"
          },
          "default_price": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "quantity": {
            "type": "number",
            "format": "float"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "measurement_unit": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SiteRequestDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "nullable": true
          },
          "organization_id": {
            "type": "integer"
          },
          "project_id": {
            "type": "integer"
          },
          "user_id": {
            "type": "integer"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "status": [],
          "priority": [],
          "request_type": [],
          "required_date": [],
          "notes": {
            "type": "string",
            "nullable": true
          },
          "files": {
            "type": "array",
            "nullable": true
          }
        },
        "required": [
          "organization_id",
          "project_id",
          "user_id",
          "title",
          "status",
          "priority",
          "request_type",
          "required_date"
        ]
      }
    },
    "responses": {},
    "parameters": {}
  }
}