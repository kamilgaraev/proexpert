# üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API —Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–¥–¥–æ–º–µ–Ω–∞–º–∏

## üèóÔ∏è **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´**

- `lk.prohelper.pro` - –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–µ—Ä)
- `api.prohelper.pro` - Laravel API (–≤–∞—à —Å–µ—Ä–≤–µ—Ä 89.111.153.146)
- `admin.prohelper.pro` - –ê–¥–º–∏–Ω–∫–∞ Laravel (—Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä)
- `company1.prohelper.pro` - –•–æ–ª–¥–∏–Ω–≥ 1 (—Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä)
- `company2.prohelper.pro` - –•–æ–ª–¥–∏–Ω–≥ 2 (—Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä)

## üîß **–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨**

### 1Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ reg.ru (15 –º–∏–Ω—É—Ç)**

#### –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å reg.ru:
- –û—Ç–∫—Ä–æ–π—Ç–µ https://www.reg.ru/user/account
- –ù–∞–π–¥–∏—Ç–µ –¥–æ–º–µ–Ω `prohelper.pro`
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "DNS-—Å–µ—Ä–≤–µ—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π" ‚Üí "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–æ–Ω—É"

#### –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏ –¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞:

**API –ø–æ–¥–¥–æ–º–µ–Ω:**
```
–¢–∏–ø: A
–ò–º—è: api
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.153.146
TTL: 300
```

**–ê–¥–º–∏–Ω–∫–∞ –ø–æ–¥–¥–æ–º–µ–Ω:**
```
–¢–∏–ø: A
–ò–º—è: admin  
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.153.146
TTL: 300
```

**‚≠ê Wildcard –¥–ª—è —Ö–æ–ª–¥–∏–Ω–≥–æ–≤:**
```
–¢–∏–ø: A
–ò–º—è: *
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.153.146
TTL: 300
```

#### ‚ö†Ô∏è –í–ê–ñ–ù–û: –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ø–∏—Å—å –¥–ª—è `lk.prohelper.pro` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–µ—Ä –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞!

### 2Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –Ω–∞ API —Å–µ—Ä–≤–µ—Ä–µ (20 –º–∏–Ω—É—Ç)**

#### –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ API —Å–µ—Ä–≤–µ—Ä
scp scripts/nginx-config-api.conf root@89.111.153.146:/tmp/
scp scripts/ssl-setup-api.sh root@89.111.153.146:/tmp/
```

#### –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É SSL:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ API —Å–µ—Ä–≤–µ—Ä—É
ssh root@89.111.153.146

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å —Ñ–∞–π–ª–∞–º–∏
cd /tmp

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x ssl-setup-api.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É
sudo ./ssl-setup-api.sh
```

#### –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ TXT –∑–∞–ø–∏—Å–µ–π Certbot'–æ–º:
Certbot –ø–æ–ø—Ä–æ—Å–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ TXT –∑–∞–ø–∏—Å–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞:

1. –î–ª—è `api.prohelper.pro`:
   ```
   –¢–∏–ø: TXT
   –ò–º—è: _acme-challenge.api
   –ó–Ω–∞—á–µ–Ω–∏–µ: (–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç Certbot)
   ```

2. –î–ª—è `admin.prohelper.pro`:
   ```
   –¢–∏–ø: TXT
   –ò–º—è: _acme-challenge.admin
   –ó–Ω–∞—á–µ–Ω–∏–µ: (–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç Certbot)
   ```

3. –î–ª—è `*.prohelper.pro`:
   ```
   –¢–∏–ø: TXT
   –ò–º—è: _acme-challenge
   –ó–Ω–∞—á–µ–Ω–∏–µ: (–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç Certbot)
   ```

### 3Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Laravel**

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `.env`:
```env
APP_DOMAIN=prohelper.pro
APP_URL=https://api.prohelper.pro
```

### 4Ô∏è‚É£ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã**

#### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
```bash
nslookup api.prohelper.pro      # -> 89.111.153.146
nslookup admin.prohelper.pro    # -> 89.111.153.146  
nslookup test.prohelper.pro     # -> 89.111.153.146
nslookup lk.prohelper.pro       # -> –≤–∞—à –õ–ö —Å–µ—Ä–≤–µ—Ä
```

#### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
- `https://api.prohelper.pro` - –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å Laravel API
- `https://admin.prohelper.pro` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∞–¥–º–∏–Ω–∫–∞
- `https://lk.prohelper.pro` - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –õ–ö

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

### API –°–µ—Ä–≤–µ—Ä (89.111.153.146):
- ‚úÖ `api.prohelper.pro` - REST API –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ `admin.prohelper.pro` - –∞–¥–º–∏–Ω–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ `company1.prohelper.pro` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–æ–ª–¥–∏–Ω–≥–∞ 1  
- ‚úÖ `company2.prohelper.pro` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–æ–ª–¥–∏–Ω–≥–∞ 2

### –õ–ö –°–µ—Ä–≤–µ—Ä (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π):
- ‚úÖ `lk.prohelper.pro` - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

## üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏**

### –ò–∑ –õ–ö –≤ API:
```javascript
// –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –¥–ª—è –≤—ã–∑–æ–≤–∞ API
const response = await fetch('https://api.prohelper.pro/api/v1/organizations', {
    headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
    }
});
```

### –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏:
- –õ–ö ‚Üí –•–æ–ª–¥–∏–Ω–≥: `https://company1.prohelper.pro`
- –õ–ö ‚Üí –ê–¥–º–∏–Ω–∫–∞: `https://admin.prohelper.pro`

## üÜò **Troubleshooting**

**API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Laravel –∑–∞–ø—É—â–µ–Ω: `php artisan serve --host=0.0.0.0 --port=8000`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx: `sudo tail -f /var/log/nginx/api_prohelper_error.log`

**–•–æ–ª–¥–∏–Ω–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω:**
- –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ö–æ–ª–¥–∏–Ω–≥ –≤ –∞–¥–º–∏–Ω–∫–µ —Å–æ slug `test`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î —Ç–∞–±–ª–∏—Ü—É `organization_groups`

**CORS –æ—à–∏–±–∫–∏:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –≤ Laravel –¥–ª—è –¥–æ–º–µ–Ω–∞ –õ–ö
- –î–æ–±–∞–≤—å—Ç–µ `lk.prohelper.pro` –≤ `config/cors.php`

## üìû **–ì–û–¢–û–í–û!**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏! 