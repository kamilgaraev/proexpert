# üöÄ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø: 3-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –ø–æ–¥–¥–æ–º–µ–Ω–∞–º–∏

## üèóÔ∏è **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´**

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä 1: API + –•–æ–ª–¥–∏–Ω–≥–∏** (89.111.153.146)
- `api.prohelper.pro` - Laravel REST API
- `company1.prohelper.pro` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–æ–ª–¥–∏–Ω–≥–∞ 1
- `company2.prohelper.pro` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–æ–ª–¥–∏–Ω–≥–∞ 2
- `*.prohelper.pro` - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ö–æ–ª–¥–∏–Ω–≥–∏

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä 2: –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** (89.111.152.112) 
- `lk.prohelper.pro` - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä 3: –ê–¥–º–∏–Ω–∫–∞** (89.104.68.13)
- `admin.prohelper.pro` - –∞–¥–º–∏–Ω–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üåê **–ù–ê–°–¢–†–û–ô–ö–ê DNS –í REG.RU**

### –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å reg.ru:
- –û—Ç–∫—Ä–æ–π—Ç–µ https://www.reg.ru/user/account
- –ù–∞–π–¥–∏—Ç–µ –¥–æ–º–µ–Ω `prohelper.pro`
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "DNS-—Å–µ—Ä–≤–µ—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π" ‚Üí "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–æ–Ω—É"

### –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏:

**API —Å–µ—Ä–≤–µ—Ä:**
```
–¢–∏–ø: A
–ò–º—è: api
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.153.146
TTL: 300
```

**–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç:**
```
–¢–∏–ø: A
–ò–º—è: lk
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.152.112
TTL: 300
```

**–ê–¥–º–∏–Ω–∫–∞:**
```
–¢–∏–ø: A
–ò–º—è: admin
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.104.68.13
TTL: 300
```

**‚≠ê Wildcard –¥–ª—è —Ö–æ–ª–¥–∏–Ω–≥–æ–≤ (–Ω–∞ API —Å–µ—Ä–≤–µ—Ä):**
```
–¢–∏–ø: A
–ò–º—è: *
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.153.146
TTL: 300
```

**–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω (–Ω–∞ API —Å–µ—Ä–≤–µ—Ä):**
```
–¢–∏–ø: A
–ò–º—è: @
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.153.146
TTL: 300
```

## üîß **–ù–ê–°–¢–†–û–ô–ö–ê –°–ï–†–í–ï–†–û–í**

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä 1: API + –•–æ–ª–¥–∏–Ω–≥–∏ (89.111.153.146)**

#### –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã:
```bash
scp scripts/nginx-config-api.conf root@89.111.153.146:/tmp/
scp scripts/ssl-setup-api.sh root@89.111.153.146:/tmp/
```

#### –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:
```bash
ssh root@89.111.153.146
cd /tmp
chmod +x ssl-setup-api.sh
sudo ./ssl-setup-api.sh
```

#### –í .env –¥–æ–±–∞–≤—å—Ç–µ:
```env
APP_DOMAIN=prohelper.pro
APP_URL=https://api.prohelper.pro
```

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä 2: –õ–ö (89.111.152.112)**
```bash
# SSL –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
sudo certbot certonly --manual --preferred-challenges=dns \
  --email admin@prohelper.pro \
  --agree-tos \
  -d lk.prohelper.pro
```

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä 3: –ê–¥–º–∏–Ω–∫–∞ (89.104.68.13)**
```bash
# SSL –¥–ª—è –∞–¥–º–∏–Ω–∫–∏  
sudo certbot certonly --manual --preferred-challenges=dns \
  --email admin@prohelper.pro \
  --agree-tos \
  -d admin.prohelper.pro
```

## üîó **–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ú–ï–ñ–î–£ –°–ï–†–í–ï–†–ê–ú–ò**

### –ò–∑ –õ–ö (89.111.152.112) –≤ API (89.111.153.146):
```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ —Ö–æ–ª–¥–∏–Ω–≥–∞ –∏–∑ –õ–ö
const response = await fetch('https://api.prohelper.pro/api/v1/landing/multi-organization/create-holding', {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${userToken}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        name: '–ù–æ–≤—ã–π —Ö–æ–ª–¥–∏–Ω–≥',
        description: '–û–ø–∏—Å–∞–Ω–∏–µ —Ö–æ–ª–¥–∏–Ω–≥–∞'
    })
});

if (response.ok) {
    const data = await response.json();
    const holdingSlug = data.data.slug;
    
    // –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ö–æ–ª–¥–∏–Ω–≥
    window.location.href = `https://${holdingSlug}.prohelper.pro/dashboard`;
}
```

### –ò–∑ –õ–ö –≤ –∞–¥–º–∏–Ω–∫—É:
```javascript
// –ü–µ—Ä–µ—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É (—Å —Ç–æ–∫–µ–Ω–æ–º –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
window.location.href = 'https://admin.prohelper.pro';
```

### –ò–∑ —Ö–æ–ª–¥–∏–Ω–≥–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ –õ–ö:
```javascript
// –ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –õ–ö"
window.location.href = 'https://lk.prohelper.pro';
```

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢ –ü–û–°–õ–ï –ù–ê–°–¢–†–û–ô–ö–ò**

### ‚úÖ **API –°–µ—Ä–≤–µ—Ä** (89.111.153.146):
- `https://api.prohelper.pro` - REST API –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- `https://company1.prohelper.pro` - —Ö–æ–ª–¥–∏–Ω–≥ 1
- `https://company2.prohelper.pro` - —Ö–æ–ª–¥–∏–Ω–≥ 2

### ‚úÖ **–õ–ö –°–µ—Ä–≤–µ—Ä** (89.111.152.112):
- `https://lk.prohelper.pro` - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

### ‚úÖ **–ê–¥–º–∏–Ω–∫–∞ –°–µ—Ä–≤–µ—Ä** (89.104.68.13):
- `https://admin.prohelper.pro` - –∞–¥–º–∏–Ω–∫–∞

## üîí **SSL –°–ï–†–¢–ò–§–ò–ö–ê–¢–´**

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ SSL, Certbot –ø–æ–ø—Ä–æ—Å–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å TXT –∑–∞–ø–∏—Å–∏:

### –î–ª—è API —Å–µ—Ä–≤–µ—Ä–∞:
```
–¢–∏–ø: TXT
–ò–º—è: _acme-challenge.api
–ó–Ω–∞—á–µ–Ω–∏–µ: (–æ—Ç Certbot)

–¢–∏–ø: TXT  
–ò–º—è: _acme-challenge
–ó–Ω–∞—á–µ–Ω–∏–µ: (–æ—Ç Certbot –¥–ª—è wildcard)
```

### –î–ª—è –õ–ö:
```
–¢–∏–ø: TXT
–ò–º—è: _acme-challenge.lk
–ó–Ω–∞—á–µ–Ω–∏–µ: (–æ—Ç Certbot)
```

### –î–ª—è –∞–¥–º–∏–Ω–∫–∏:
```
–¢–∏–ø: TXT
–ò–º—è: _acme-challenge.admin  
–ó–Ω–∞—á–µ–Ω–∏–µ: (–æ—Ç Certbot)
```

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
```bash
nslookup api.prohelper.pro      # -> 89.111.153.146
nslookup lk.prohelper.pro       # -> 89.111.152.112
nslookup admin.prohelper.pro    # -> 89.104.68.13
nslookup test.prohelper.pro     # -> 89.111.153.146
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
- `https://api.prohelper.pro` ‚úÖ
- `https://lk.prohelper.pro` ‚úÖ  
- `https://admin.prohelper.pro` ‚úÖ

## üöÄ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –¢–ê–ö–û–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–´**

1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –Ω–∞ —Å–≤–æ–µ–º —Å–µ—Ä–≤–µ—Ä–µ
2. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - –ø–∞–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∏–∑–æ–ª—è—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
5. **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## ‚è±Ô∏è **–í–†–ï–ú–Ø –ù–ê–°–¢–†–û–ô–ö–ò: 45 –º–∏–Ω—É—Ç**

- DNS: 10 –º–∏–Ω—É—Ç
- API —Å–µ—Ä–≤–µ—Ä: 15 –º–∏–Ω—É—Ç  
- –õ–ö —Å–µ—Ä–≤–µ—Ä: 10 –º–∏–Ω—É—Ç
- –ê–¥–º–∏–Ω–∫–∞ —Å–µ—Ä–≤–µ—Ä: 10 –º–∏–Ω—É—Ç

## üìû **–ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï!**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏! 